[
    {
        "description": "discriminator oneOf",
        "schema": {
            "pets": {
                "Cat": {
                    "properties": {
                        "foo": {
                            "type": "integer"
                        }
                    }
                },
                "Dog": {
                    "properties": {
                        "foo": {
                            "type": "string"
                        }
                    }
                }
            },
            "oneOf": [
                {
                    "$ref": "#/pets/Cat"
                },
                {
                    "$ref": "#/pets/Dog"
                }
            ],
            "discriminator": {
                "propertyName": "petType",
                "mapping": {
                    "Lizard": "#/pets/Cat"
                }
            }
        },
        "tests": [
            {
                "description": "valid for petType Cat and integer",
                "data": {
                    "petType": "Cat",
                    "foo": 32
                },
                "valid": true
            },
            {
                "description": "invalid for petType Cat and string",
                "data": {
                    "petType": "Cat",
                    "foo": "abc"
                },
                "valid": false
            },
            {
                "description": "valid for mapped schema",
                "data": {
                    "petType": "Lizard",
                    "foo": 32
                },
                "valid": true
            },
            {
                "description": "invalid for unknown petType",
                "data": {
                    "petType": "Porcupine",
                    "foo": 3
                },
                "valid": false
            },
            {
                "description": "invalid for missing petType",
                "data": {
                    "foo": 3
                },
                "valid": false
            }
        ]
    },
    {
        "description": "discriminator allOf",
        "schema": {
            "pets": {
                "Cat": {
                    "properties": {
                        "foo": {
                            "type": "integer"
                        }
                    }
                },
                "Dog": {
                    "properties": {
                        "foo": {
                            "type": "string"
                        }
                    }
                }
            },
            "allOf": [
                {
                    "$ref": "#/pets/Cat"
                },
                {
                    "$ref": "#/pets/Dog"
                }
            ],
            "discriminator": {
                "propertyName": "petType",
                "mapping": {
                    "Lizard": "#/pets/Cat"
                }
            }
        },
        "tests": [
            {
                "description": "valid for petType Cat and integer",
                "data": {
                    "petType": "Cat",
                    "foo": 32
                },
                "valid": true
            },
            {
                "description": "invalid for petType Cat and string",
                "data": {
                    "petType": "Cat",
                    "foo": "abc"
                },
                "valid": false
            },
            {
                "description": "valid for mapped schema",
                "data": {
                    "petType": "Lizard",
                    "foo": 32
                },
                "valid": true
            },
            {
                "description": "invalid for unknown petType",
                "data": {
                    "petType": "Porcupine",
                    "foo": 3
                },
                "valid": false
            },
            {
                "description": "invalid for missing petType",
                "data": {
                    "foo": 3
                },
                "valid": false
            }
        ]
    },
    {
        "description": "discriminator anyOf",
        "schema": {
            "pets": {
                "Cat": {
                    "properties": {
                        "foo": {
                            "type": "integer"
                        }
                    }
                },
                "Dog": {
                    "properties": {
                        "foo": {
                            "type": "string"
                        }
                    }
                }
            },
            "anyOf": [
                {
                    "$ref": "#/pets/Cat"
                },
                {
                    "$ref": "#/pets/Dog"
                }
            ],
            "discriminator": {
                "propertyName": "petType"
            }
        },
        "tests": [
            {
                "description": "valid for petType Cat and integer",
                "data": {
                    "petType": "Cat",
                    "foo": 32
                },
                "valid": true
            },
            {
                "description": "invalid for petType Cat and string",
                "data": {
                    "petType": "Cat",
                    "foo": "abc"
                },
                "valid": false
            },
            {
                "description": "valid since no schema is given",
                "data": {
                    "petType": "Lizard",
                    "foo": 32
                },
                "valid": false
            }
        ]
    }
]
